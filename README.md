# å­¦æƒ…çœ‹æ¿ - æç®€ã€ç§‘å­¦çš„æˆç»©è¯Šæ–­ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªåŸºäº Next.js å¼€å‘çš„é«˜ç«¯æˆç»©è¯Šæ–­ä¸ç«æŠ€åˆ†æç³»ç»Ÿï¼Œæ—¨åœ¨é€šè¿‡æ•°å­—åŒ–çš„æ–¹å¼æ·±åº¦æŒ–æ˜å­¦ç”Ÿæˆç»©èƒŒåçš„ä¿¡æ¯ï¼Œæä¾›ç›´è§‚çš„è¿›æ­¥/é€€æ­¥åˆ†æä»¥åŠå®æ—¶çš„ PK å¯¹æ¯”ä½“éªŒã€‚

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### 1. ä»ªè¡¨ç›˜ä¸è¯Šæ–­ (Dashboard)
- **å¤šç»´åº¦ç»Ÿè®¡**: è‡ªåŠ¨è®¡ç®—æ€»åˆ†ã€å¹´çº§æ’åã€ç­çº§æ’ååŠç­çº§å‡åˆ†å¯¹æ¯”ã€‚
- **å…¨æ–¹ä½æ’åè¶‹åŠ¿**: 
    - æ”¯æŒã€Œæ€»åˆ†ã€åŠ 9 é—¨å•ç§‘çš„å†æ¬¡è€ƒè¯•æ’åè¿½è¸ªã€‚
    - **åŒ Y è½´è®¾è®¡**: åŒæ—¶ç›´è§‚å¯¹æ¯”ã€Œå¹´çº§æ’åã€ä¸ã€Œç­çº§æ’åã€ã€‚
    - **äº¤äº’å›¾ä¾‹**: æ”¯æŒå…¨ç§‘ç›®è‡ªç”±åˆ‡æ¢åˆ‡æ¢ï¼Œæ”¯æŒã€Œå•ç§‘èšç„¦ã€ä¸ã€Œå¤šé¡¹å¯¹æ¯”ã€åŒæ¨¡å¼ã€‚
- **ä¼˜åŠ£åŠ¿è¯†åˆ«**: è‡ªåŠ¨è¯†åˆ«å­¦ç”Ÿçš„å¼ºåŠ¿ç§‘ç›®ä¸è–„å¼±ç¯èŠ‚ï¼Œæä¾›è§†è§‰åŒ–è¯Šæ–­ã€‚

### 2. äº”æ˜Ÿçº§ PK åœº (PK Arena)
- **å¤šç”Ÿå¯¹æ¯”**: æ”¯æŒ 1-4 åå­¦ç”ŸåŒå±å®æ—¶å¯¹æ¯”ï¼Œæ”¯æŒåŠ¨æ€å¢å‡ã€‚
- **åˆ†å·®å³æ—¶è®¡ç®—**: é’ˆå¯¹åŒäººæ¨¡å¼ï¼Œè‡ªåŠ¨æ’å…¥å„ç§‘åˆ†å·®åˆ—ï¼Œæ”¯æŒçº¢ç»¿é…è‰²ç›´è§‚åé¦ˆã€‚
- **èƒœè´Ÿå¹³è¡¡ç»Ÿè®¡**: é¡¶éƒ¨å®æ—¶æ˜¾ç¤ºå•ç§‘é¢†å…ˆæ•°é‡ï¼Œä¸€çœ¼åˆ¤å®šè°æ˜¯â€œèµ›ç‚¹â€æ‹¥æœ‰è€…ã€‚
- **å­¦ç§‘çŠ¶å…ƒå‹‹ç« **: è‡ªåŠ¨ä¸ºå•ç§‘æœ€é«˜åˆ†é€‰æ‰‹ä½©æˆ´ ğŸ¥‡ å‹‹ç« ï¼Œå¢åŠ ç«æŠ€ä»ªå¼æ„Ÿã€‚
- **åƒç´ çº§å¯¹é½**: è§„èŒƒåŒ–çš„è¡Œé«˜è®¾è®¡ï¼Œç¡®ä¿å¤šåˆ—æ•°æ®æ¨ªå‘å¯¹æ¯”æ—¶ç»å¯¹å¯¹é½ã€‚

### 3. å­¦ç§‘æ’è¡Œæ¦œ (Leaderboard)
- **å¤šç§‘ç›®åˆ‡æ¢**: æ”¯æŒæŸ¥è¯¢æ‰€æœ‰å•ç§‘åŠæ€»åˆ†çš„å®æ—¶æ’åã€‚
- **ç»„åˆç§‘ç›®æ”¯æŒ**: ç‰¹è‰²æ”¯æŒã€Œç‰©åŒ–ç”Ÿã€ã€ã€Œå²æ”¿åœ°ã€ç­‰å¤šç§é€‰ç§‘ç»„åˆçš„æ€»åˆ†åŠ¨æ€æ’è¡Œã€‚

### 4. æ•°æ®å®‰å…¨ä¸æµè½¬
- **æ™ºèƒ½å¯¼å…¥ UI**: é¦–é¡µæ”¯æŒä¸€é”®ä¸Šä¼  JSON æ•°æ®åŒ…ã€‚
- **è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿ**: æ¯æ¬¡å¯¼å…¥å‰è‡ªåŠ¨åœ¨ `data/backups/` ç”Ÿæˆæ•°æ®åº“ç‰©ç†å¤‡ä»½ã€‚
- **æ•°æ®å·¥å…·**: æä¾› Python è„šæœ¬å·¥å…·ï¼Œæ”¯æŒå°† Excel è½¬æ¢ä¸ºæ ‡å‡†åŒ–å¯¼å…¥æ ¼å¼ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

- **å‰ç«¯**: Next.js (App Router), TypeScript, Tailwind CSS, Recharts
- **æ•°æ®åº“**: SQLite (via better-sqlite3)
- **å›¾æ ‡**: Lucide React

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹æŒ‡å—

### 1. è·å–æœ€æ–°æ•°æ®
è¿è¡Œæ ¹ç›®å½•ä¸‹çš„ Python è„šæœ¬ï¼š
```bash
python scrape_scores.py
```
é€‰æ‹© `[1] å®Œæ•´æ‰§è¡Œ`ã€‚æ‰§è¡Œç»“æŸåï¼Œæ‚¨å°†è·å¾—ï¼š
- æ±‡æ€»å¥½çš„ Excel æˆç»©å•ã€‚
- ä¸€ä¸ªåä¸º `XXXX_import.json` çš„å¯¼å…¥åŒ…ã€‚

### 2. å¯¼å…¥åˆ° Web ç³»ç»Ÿ
1. å¯åŠ¨ Web åº”ç”¨ï¼š
```bash
npm run dev
```
2. è®¿é—®é¦–é¡µï¼Œç‚¹å‡»å³ä¸Šè§’çš„ **â€œå¯¼å…¥æ•°æ®â€**ã€‚
3. é€‰æ‹©ä¸Šä¸€æ­¥ç”Ÿæˆçš„ `.json` æ–‡ä»¶ã€‚
4. ç³»ç»Ÿå°†è‡ªåŠ¨æ‰§è¡Œï¼š**ç‰©ç†å¤‡ä»½** -> **æ•°æ®æ ¡éªŒ** -> **è€ƒè¯•/å­¦ç”Ÿ/æˆç»©è‡ªåŠ¨å…¥åº“**ã€‚

## ğŸ“ ç›®å½•ç»“æ„è¯´æ˜

- `/src/app`: Next.js é¡µé¢ä¸ API è·¯ç”±ä¸­å¿ƒã€‚
- `/src/services`: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å±‚ï¼ˆSQL å¤„ç†ï¼‰ã€‚
- `/data`: å­˜æ”¾ç”Ÿäº§æ•°æ®åº“ `scores.db`ã€‚
- `/data/backups`: å­˜æ”¾ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„å†å²å¤‡ä»½ã€‚
- `/docs/scrape_scores.py`: æˆç»©æŠ“å–ä¸ JSON ç”Ÿæˆä¸€ä½“åŒ–å·¥å…·ã€‚

## ğŸ“¦ éƒ¨ç½²æŒ‡å— (Deployment)

### 1. ç¯å¢ƒè¦æ±‚
- **Node.js**: 18.x æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚
- **Python**: 3.8+ (ç”¨äºè¿è¡Œçˆ¬å–è„šæœ¬)ã€‚
- **ä¾èµ–åº“**:
  - Node.js: `npm install`
  - Python: `pip install pandas requests beautifulsoup4 openpyxl`

### 2. ç”Ÿäº§ç¯å¢ƒæ„å»º
åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯·å…ˆæ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š
```bash
npm run build
```

### 3. å¯åŠ¨æœåŠ¡
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨ï¼š
```bash
npm run start
```
*å»ºè®®ä½¿ç”¨ **PM2** è¿›è¡Œè¿›ç¨‹ç®¡ç†ä»¥ç¡®ä¿æœåŠ¡çš„æŒä¹…è¿è¡Œï¼š*
```bash
pm2 start npm --name "scores-platform" -- start
```

### 3. æ•°æ®æŒä¹…åŒ–
ç”±äºç³»ç»Ÿä½¿ç”¨ **SQLite** æ•°æ®åº“ï¼ˆ`data/scores.db`ï¼‰ï¼Œè¯·ç¡®ä¿éƒ¨ç½²ç¯å¢ƒå…·å¤‡æŒä¹…åŒ–å­˜å‚¨èƒ½åŠ›ã€‚è¯¦ç»†é…ç½®ï¼ˆå¦‚ Nginx åå‘ä»£ç†ã€SSL ç­‰ï¼‰è¯·å‚è€ƒï¼š
ğŸ‘‰ **[éƒ¨ç½²ä¸Šçº¿æŒ‡å—](docs/deployment_guide.md)**

---
*æœ¬é¡¹ç›®ç”± Antigravity è®¾è®¡å¼€å‘ï¼Œè‡´åŠ›äºæ‰“é€ æè‡´çš„æ•™è‚²æ•°æ®å¯è§†åŒ–ä½“éªŒã€‚*
